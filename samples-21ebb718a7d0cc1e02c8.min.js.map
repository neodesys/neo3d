{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"window.neo3d\"","webpack:///./src/samples/index.js","webpack:///./src/samples sync ^\\.\\/[^\\/]+\\/index\\.js$","webpack:///./src/samples/disfract/index.js","webpack:///./src/samples/disfract/FractalShader.js","webpack:///./src/samples/disfract/fractal.vert","webpack:///./src/samples/disfract/fractal.frag","webpack:///./src/samples/groovy/index.js","webpack:///./src/samples/groovy/OscilloShader.js","webpack:///./src/samples/groovy/oscillo.vert","webpack:///./src/samples/groovy/oscillo.frag","webpack:///./src/samples/groovy/AudioSource.js","webpack:///./src/samples/groovy/rumba.mp3"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","neo3d","_context","_samples","_emptyFunc","keys","forEach","sample","disabled","onStart","onStop","_rdrSurf","push","addEventListener","switchDrawingButton","document","getElementById","e","preventDefault","isDrawing","stopDrawing","isAutoDrawing","startDrawing","fpsSpan","showFPS","innerText","getFPS","toFixed","setTimeout","samplesRoot","toggle","createElement","href","className","getName","article","target","parentNode","setAutoDrawing","classList","add","remove","undefined","header","appendChild","drawSurf","hd","width","height","content","main","findRenderingSurface","open","map","./disfract/index.js","./groovy/index.js","webpackContext","req","id","webpackContextResolve","Error","code","resolve","_fractalShader","_fullscreenPlane","PlaneMesh","_renderer","_center","_scale","_aspectRatio","onInitContext","gl","bContextLost","clearColor","init","onSurfaceResized","viewport","this","onDrawFrame","size","clear","COLOR_BUFFER_BIT","setPos","setSize","drawMesh","createRenderingSurface","_fractalShaderSrc","vert","frag","FractalShader","Shader","_pos","Vec2","_size","_attribLoc","vtxPosition","_uniformLoc","pos","constructor","_initShaderLocations","_gl","getAttribLocation","_prog","getUniformLocation","_bindShader","enableVertexAttribArray","uniform2fv","buffer","_unbindShader","disableVertexAttribArray","_bindMeshAttribs","mesh","bindAttribBuffer","Mesh","ATTRIB_TYPE","VERTEX","x","y","setFromValues","isBound","w","h","OscilloShader","_audioSample","_oscilloShader","_timeDataTex","_freqDataTex","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","createTexture","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","data","fetchTimeData","texImage2D","ALPHA","length","UNSIGNED_BYTE","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","TEXTURE1","fetchFreqData","_createAndBindTextures","setAspectRatio","_updateTextures","_playButton","style","that","play","then","display","pause","_oscilloShaderSrc","_aspectRatios","aspectRatios","timeData","freqData","uniform1i","ratio","AudioContext","webkitAudioContext","_audioCtx","AudioSource","url","_analyser","_fftSize","_timeData","Uint8Array","_freqData","Audio","loop","createAnalyser","fftSize","smoothingTimeConstant","createMediaElementSource","connect","destination","once","Promise","reject","state","resume","setFFTSize","isFinite","getByteTimeDomainData","getByteFrequencyData"],"mappings":"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","file":"samples-21ebb718a7d0cc1e02c8.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","module.exports = window.neo3d;","/**\n * Neo3D Samples\n *\n * Copyright (C) 2015, Loïc Le Page\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";\n\n//All samples available in this directory are automatically loaded.\n//A sample MUST export 2 functions by default:\n//- getName(): must return the sample friendly name as a string\n//- main(drawSurf): with drawSurf the canvas to use when calling\n//                  neo3d.createRenderingSurface()\n//\n//A sample CAN also provide optional boolean flags (false if not present):\n//- disabled: set to true to NOT load the sample\n//- hd: set to true to use an HD back surface for rendering\n//      (1920x1080 instead of 640x360)\n//- open: set to true to open the sample by default when loading the page\n//\n//Each sample CAN also export any of the 2 following functions:\n//- onStart(): will be called by framework when sample is started\n//- onStop(): will be called by framework when sample is stopped\n\n//Ask webpack to automatically require all samples\nvar _context = require.context(\".\", true, /^\\.\\/[^\\/]+\\/index\\.js$/);\nvar _samples = [];\nfunction _emptyFunc() { }\n_context.keys().forEach(function(key)\n{\n    var sample = _context(key);\n    if (sample.disabled !== true)\n    {\n        if (typeof (sample.onStart) !== \"function\")\n        {\n            sample.onStart = _emptyFunc;\n        }\n\n        if (typeof (sample.onStop) !== \"function\")\n        {\n            sample.onStop = _emptyFunc;\n        }\n\n        sample._rdrSurf = null;\n        _samples.push(sample);\n    }\n});\n\nvar neo3d = require(\"neo3d\");\n\nwindow.addEventListener(\"load\", function()\n{\n    var switchDrawingButton = document.getElementById(\"switchDrawingButton\");\n    switchDrawingButton.value = \"Stop\";\n    switchDrawingButton.addEventListener(\"click\", function(e)\n    {\n        e.preventDefault();\n\n        if (neo3d.isDrawing())\n        {\n            neo3d.stopDrawing();\n            switchDrawingButton.value = \"Start\";\n\n            _samples.forEach(function(sample)\n            {\n                if (sample._rdrSurf && sample._rdrSurf.isAutoDrawing())\n                {\n                    sample.onStop();\n                }\n            });\n        }\n        else\n        {\n            neo3d.startDrawing();\n            switchDrawingButton.value = \"Stop\";\n\n            _samples.forEach(function(sample)\n            {\n                if (sample._rdrSurf && sample._rdrSurf.isAutoDrawing())\n                {\n                    sample.onStart();\n                }\n            });\n        }\n    });\n\n    var fpsSpan = document.getElementById(\"fpsSpan\");\n    function showFPS()\n    {\n        fpsSpan.innerText = neo3d.getFPS().toFixed(3) + \" fps\";\n        setTimeout(showFPS, 1000);\n    }\n\n    neo3d.startDrawing();\n    showFPS();\n\n    function toggleSample(sample, e)\n    {\n        e.preventDefault();\n\n        if (sample._rdrSurf)\n        {\n            var article = e.target.parentNode.parentNode;\n\n            if (sample._rdrSurf.isAutoDrawing())\n            {\n                sample._rdrSurf.setAutoDrawing(false);\n                article.classList.add(\"closed\");\n\n                if (neo3d.isDrawing())\n                {\n                    sample.onStop();\n                }\n            }\n            else\n            {\n                sample._rdrSurf.setAutoDrawing(true);\n                article.classList.remove(\"closed\");\n\n                if (neo3d.isDrawing())\n                {\n                    sample.onStart();\n                }\n            }\n        }\n    }\n\n    var samplesRoot = document.getElementById(\"samplesRoot\");\n    _samples.forEach(function(sample)\n    {\n        var toggle = document.createElement(\"a\");\n        toggle.href = \"#\";\n        toggle.className = \"toggle\";\n        toggle.innerText = sample.getName();\n        toggle.addEventListener(\"click\", toggleSample.bind(undefined, sample));\n\n        var header = document.createElement(\"h2\");\n        header.appendChild(toggle);\n\n        var drawSurf = document.createElement(\"canvas\");\n        if (sample.hd === true)\n        {\n            drawSurf.width = 1920;\n            drawSurf.height = 1080;\n            drawSurf.className = \"hd\";\n        }\n        else\n        {\n            drawSurf.width = 640;\n            drawSurf.height = 360;\n        }\n\n        var content = document.createElement(\"div\");\n        content.className = \"content\";\n        content.appendChild(drawSurf);\n\n        var article = document.createElement(\"article\");\n        article.appendChild(header);\n        article.appendChild(content);\n\n        samplesRoot.appendChild(article);\n        sample.main(drawSurf);\n\n        sample._rdrSurf = neo3d.findRenderingSurface(drawSurf);\n        if (sample._rdrSurf)\n        {\n            if (sample.open === true)\n            {\n                sample.onStart();\n            }\n            else\n            {\n                sample._rdrSurf.setAutoDrawing(false);\n                article.classList.add(\"closed\");\n            }\n        }\n        else\n        {\n            article.classList.add(\"closed\");\n            article.classList.add(\"failed\");\n        }\n    });\n});\n","var map = {\n\t\"./disfract/index.js\": 16,\n\t\"./groovy/index.js\": 20\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 15;","/**\n * Disfract\n *\n * Copyright (C) 2015, Loïc Le Page\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";\n\nvar neo3d = require(\"neo3d\");\nvar FractalShader = require(\"./FractalShader\");\n\nvar _fractalShader = new FractalShader();\nvar _fullscreenPlane = new neo3d.PlaneMesh();\n\n//TODO: implement user interactions\nvar _renderer = {\n    _center: [-0.1528, 1.0397],\n\n    _scale: 1.0,\n\n    _aspectRatio: 1.0,\n\n    onInitContext: function(gl, bContextLost)\n    {\n        gl.clearColor(0, 0, 0, 1);\n        _fractalShader.init(gl, bContextLost);\n        _fullscreenPlane.init(gl, bContextLost);\n        _fractalShader.bind();\n    },\n\n    onSurfaceResized: function(gl, width, height)\n    {\n        gl.viewport(0, 0, width, height);\n        this._aspectRatio = width / height;\n    },\n\n    onDrawFrame: function(gl)\n    {\n        this._scale += 0.005 * this._scale;\n        if (this._scale > 200000.0)\n        {\n            this._scale = 1.0;\n        }\n\n        var size = [4.0, 4.0];\n        if (this._scale > 0.0)\n        {\n            var s = 1.0 / this._scale;\n            size[0] *= s;\n            size[1] *= s;\n        }\n\n        if (this._aspectRatio >= 1.0)\n        {\n            size[0] *= this._aspectRatio;\n        }\n        else if (this._aspectRatio > 0.0)\n        {\n            size[1] /= this._aspectRatio;\n        }\n\n        gl.clear(gl.COLOR_BUFFER_BIT);\n\n        _fractalShader.setPos(this._center[0], this._center[1]);\n        _fractalShader.setSize(size[0], size[1]);\n        _fractalShader.drawMesh(_fullscreenPlane);\n    }\n};\n\nmodule.exports = {\n    open: true,\n\n    getName: function()\n    {\n        return \"Disfract\";\n    },\n\n    main: function(drawSurf)\n    {\n        neo3d.createRenderingSurface(drawSurf, _renderer, true);\n    }\n};\n","/**\n * Disfract\n *\n * Copyright (C) 2015, Loïc Le Page\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";\n\nvar neo3d = require(\"neo3d\");\n\nvar _fractalShaderSrc = {\n    vert: require(\"./fractal.vert\"),\n    frag: require(\"./fractal.frag\")\n};\n\nvar FractalShader = module.exports = function()\n{\n    neo3d.Shader.call(this, _fractalShaderSrc.vert, _fractalShaderSrc.frag);\n\n    this._pos = new neo3d.Vec2();\n    this._size = new neo3d.Vec2();\n\n    this._attribLoc = {\n        vtxPosition: -1\n    };\n\n    this._uniformLoc = {\n        pos: -1,\n        size: -1\n    };\n};\n\nFractalShader.prototype = Object.create(neo3d.Shader.prototype);\nFractalShader.prototype.constructor = FractalShader;\n\nFractalShader.prototype._initShaderLocations = function()\n{\n    this._attribLoc.vtxPosition = this._gl.getAttribLocation(this._prog, \"aVtxPosition\");\n\n    this._uniformLoc.pos = this._gl.getUniformLocation(this._prog, \"uPos\");\n    this._uniformLoc.size = this._gl.getUniformLocation(this._prog, \"uSize\");\n};\n\nFractalShader.prototype._bindShader = function()\n{\n    this._gl.enableVertexAttribArray(this._attribLoc.vtxPosition);\n\n    this._gl.uniform2fv(this._uniformLoc.pos, this._pos.buffer);\n    this._gl.uniform2fv(this._uniformLoc.size, this._size.buffer);\n\n    return true;\n};\n\nFractalShader.prototype._unbindShader = function()\n{\n    this._gl.disableVertexAttribArray(this._attribLoc.vtxPosition);\n};\n\nFractalShader.prototype._bindMeshAttribs = function(mesh)\n{\n    return mesh.bindAttribBuffer(this._attribLoc.vtxPosition, neo3d.Mesh.ATTRIB_TYPE.VERTEX);\n};\n\nFractalShader.prototype.setPos = function(x, y)\n{\n    this._pos.setFromValues(x, y);\n\n    if (this.isBound())\n    {\n        this._gl.uniform2fv(this._uniformLoc.pos, this._pos.buffer);\n    }\n};\n\nFractalShader.prototype.setSize = function(w, h)\n{\n    this._size.setFromValues(w, h);\n\n    if (this.isBound())\n    {\n        this._gl.uniform2fv(this._uniformLoc.size, this._size.buffer);\n    }\n};\n","module.exports = \"attribute vec3 aVtxPosition;\\n\\nuniform vec2 uPos;\\nuniform vec2 uSize;\\n\\nvarying highp vec2 z0;\\n\\nvoid main()\\n{\\n    gl_Position = vec4(aVtxPosition, 1.0);\\n    z0 = uPos + aVtxPosition.xy * uSize * 0.5;\\n}\\n\"","module.exports = \"precision highp float;\\n\\nvarying highp vec2 z0;\\n\\nconst int MAX_ITER = 1500;\\n\\nvoid main()\\n{\\n    vec2 zn = z0;\\n    float q = 0.0;\\n\\n    for (int i = 0; i < MAX_ITER; ++i)\\n    {\\n        float f = zn.x;\\n        zn.x = f * f - zn.y * zn.y + z0.x;\\n        zn.y = 2.0 * f * zn.y + z0.y;\\n\\n        f = zn.x * zn.x + zn.y * zn.y;\\n        if (f >= 4.0)\\n        {\\n            q = float(i + 1);\\n            break;\\n        }\\n    }\\n\\n    vec3 color = vec3(0.0);\\n    if (q > 0.0)\\n    {\\n        color = mix(vec3(0.0, 0.0, 0.0), vec3(0.6, 0.9, 1.0), fract(0.008 * q));\\n    }\\n\\n    gl_FragColor = vec4(color, 1.0);\\n}\\n\"","/**\n * Groovy\n *\n * Copyright (C) 2019, Loïc Le Page\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";\n\nvar neo3d = require(\"neo3d\");\nvar OscilloShader = require(\"./OscilloShader\");\nvar AudioSource = require(\"./AudioSource\");\n\nvar _audioSample = new AudioSource(require(\"./rumba.mp3\"));\nvar _oscilloShader = new OscilloShader();\nvar _fullscreenPlane = new neo3d.PlaneMesh();\n\nvar _timeDataTex = null;\nvar _freqDataTex = null;\n\nfunction _createAndBindTextures(gl, bContextLost)\n{\n    if (!bContextLost && _timeDataTex && _freqDataTex)\n    {\n        return;\n    }\n\n    _timeDataTex = gl.createTexture();\n\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, _timeDataTex);\n\n    var data = _audioSample.fetchTimeData();\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.ALPHA, data.length, 1, 0, gl.ALPHA, gl.UNSIGNED_BYTE, data);\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n    _freqDataTex = gl.createTexture();\n\n    gl.activeTexture(gl.TEXTURE1);\n    gl.bindTexture(gl.TEXTURE_2D, _freqDataTex);\n\n    data = _audioSample.fetchFreqData();\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.ALPHA, data.length, 1, 0, gl.ALPHA, gl.UNSIGNED_BYTE, data);\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n}\n\nfunction _updateTextures(gl)\n{\n    gl.activeTexture(gl.TEXTURE0);\n    var data = _audioSample.fetchTimeData();\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.ALPHA, data.length, 1, 0, gl.ALPHA, gl.UNSIGNED_BYTE, data);\n\n    gl.activeTexture(gl.TEXTURE1);\n    data = _audioSample.fetchFreqData();\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.ALPHA, data.length, 1, 0, gl.ALPHA, gl.UNSIGNED_BYTE, data);\n}\n\nvar _renderer = {\n    onInitContext: function(gl, bContextLost)\n    {\n        gl.clearColor(0.2, 0.15, 0.2, 1.0);\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n        _oscilloShader.init(gl, bContextLost);\n        _fullscreenPlane.init(gl, bContextLost);\n\n        _createAndBindTextures(gl, bContextLost);\n        _oscilloShader.bind();\n    },\n\n    onSurfaceResized: function(gl, width, height)\n    {\n        gl.viewport(0, 0, width, height);\n        _oscilloShader.setAspectRatio(width, height);\n    },\n\n    onDrawFrame: function(gl)\n    {\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        _updateTextures(gl);\n        _oscilloShader.drawMesh(_fullscreenPlane);\n    }\n};\n\nvar _playButton = null;\n\nmodule.exports = {\n    open: true,\n\n    getName: function()\n    {\n        return \"Groovy\";\n    },\n\n    main: function(drawSurf)\n    {\n        neo3d.createRenderingSurface(drawSurf, _renderer, true);\n\n        _playButton = document.createElement(\"a\");\n        _playButton.href = \"#\";\n        _playButton.innerText = \"PLAY\";\n        _playButton.style = \"position: absolute;\" +\n            \"top: 6px;\" +\n            \"right: 6px;\" +\n            \"color: #d6ef7d;\" +\n            \"border: #d6ef7d solid 2px;\" +\n            \"padding: 0.3em;\" +\n            \"text-decoration: none;\" +\n            \"background: #3b3c2a;\" +\n            \"border-radius: 0.5em;\";\n        drawSurf.parentNode.appendChild(_playButton);\n\n        var that = this;\n        _playButton.addEventListener(\"click\", function(e)\n        {\n            e.preventDefault();\n            that.onStart();\n        });\n    },\n\n    onStart: function()\n    {\n        _audioSample.play().then(function()\n        {\n            _playButton.style.display = \"none\";\n\n        }, function()\n        {\n            _playButton.style.display = \"block\";\n        });\n    },\n\n    onStop: function()\n    {\n        _audioSample.pause();\n    }\n};\n","/**\n * Groovy\n *\n * Copyright (C) 2019, Loïc Le Page\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";\n\nvar neo3d = require(\"neo3d\");\n\nvar _oscilloShaderSrc = {\n    vert: require(\"./oscillo.vert\"),\n    frag: require(\"./oscillo.frag\")\n};\n\nvar OscilloShader = module.exports = function()\n{\n    neo3d.Shader.call(this, _oscilloShaderSrc.vert, _oscilloShaderSrc.frag);\n\n    this._aspectRatios = new neo3d.Vec2();\n\n    this._attribLoc = {\n        vtxPosition: -1\n    };\n\n    this._uniformLoc = {\n        aspectRatios: -1,\n        timeData: -1,\n        freqData: -1\n    };\n};\n\nOscilloShader.prototype = Object.create(neo3d.Shader.prototype);\nOscilloShader.prototype.constructor = OscilloShader;\n\nOscilloShader.prototype._initShaderLocations = function()\n{\n    this._attribLoc.vtxPosition = this._gl.getAttribLocation(this._prog, \"aVtxPosition\");\n    this._uniformLoc.aspectRatios = this._gl.getUniformLocation(this._prog, \"uAspectRatios\");\n    this._uniformLoc.timeData = this._gl.getUniformLocation(this._prog, \"uTimeData\");\n    this._uniformLoc.freqData = this._gl.getUniformLocation(this._prog, \"uFreqData\");\n};\n\nOscilloShader.prototype._bindShader = function()\n{\n    this._gl.enableVertexAttribArray(this._attribLoc.vtxPosition);\n    this._gl.uniform2fv(this._uniformLoc.aspectRatios, this._aspectRatios.buffer);\n    this._gl.uniform1i(this._uniformLoc.timeData, 0);\n    this._gl.uniform1i(this._uniformLoc.freqData, 1);\n    return true;\n};\n\nOscilloShader.prototype._unbindShader = function()\n{\n    this._gl.disableVertexAttribArray(this._attribLoc.vtxPosition);\n};\n\nOscilloShader.prototype._bindMeshAttribs = function(mesh)\n{\n    return mesh.bindAttribBuffer(this._attribLoc.vtxPosition, neo3d.Mesh.ATTRIB_TYPE.VERTEX);\n};\n\nOscilloShader.prototype.setAspectRatio = function(w, h)\n{\n    var ratio = 1.0;\n    if ((w > 0) && (h > 0))\n    {\n        ratio = w / h;\n    }\n\n    w = h = 1.0;\n    if (ratio >= 1.0)\n    {\n        w /= ratio;\n    }\n    else\n    {\n        h *= ratio;\n    }\n\n    this._aspectRatios.setFromValues(w, h);\n\n    if (this.isBound())\n    {\n        this._gl.uniform2fv(this._uniformLoc.aspectRatios, this._aspectRatios.buffer);\n    }\n};\n","module.exports = \"attribute vec3 aVtxPosition;\\n\\nuniform vec2 uAspectRatios;\\n\\nvarying highp vec2 planeCoords;\\n\\nvoid main()\\n{\\n    gl_Position = vec4(aVtxPosition, 1.0);\\n    planeCoords = aVtxPosition.xy / uAspectRatios;\\n}\\n\"","module.exports = \"precision highp float;\\n\\nuniform sampler2D uTimeData;\\nuniform sampler2D uFreqData;\\n\\n\\nvarying highp vec2 planeCoords;\\n\\nconst float PI = 3.1415926535897932384626433832795;\\n\\nfloat getLineIntensity(float t)\\n{\\n    t = max(t, 0.0) * step(-1.0, -t);\\n    t = sin(t * PI);\\n    return t * t;\\n}\\n\\n\\nfloat getCircleIntensity(vec2 radialCoords, float lineThickness, float circleRadius, float maxOffset)\\n{\\n    float f = step(0.5, radialCoords.y);\\n    f = 2.0 * (f + radialCoords.y) - 4.0 * f * radialCoords.y;\\n\\n    float offset = texture2D(uTimeData, vec2(f, 0.5)).a;\\n    offset = circleRadius + maxOffset * (2.0 * offset - 1.0);\\n\\n    return getLineIntensity(0.5 + (radialCoords.x - offset) / lineThickness);\\n}\\n\\nvoid main()\\n{\\n    vec2 radialCoords = vec2(length(planeCoords), 0.5 * (1.0 + atan(-planeCoords.x, planeCoords.y) / PI));\\n\\n    float circle = getCircleIntensity(radialCoords, 0.05, 0.85, 0.2);\\n    float disc = texture2D(uFreqData, vec2(0.05 + radialCoords.x * 0.4, 0.5)).a;\\n\\n    gl_FragColor = vec4(0.85, 0.95, 0.5, disc + circle);\\n}\\n\"","/**\n * Groovy\n *\n * Copyright (C) 2019, Loïc Le Page\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";\n\nvar AudioContext = window.AudioContext || window.webkitAudioContext;\nvar _audioCtx = null;\nif (typeof (AudioContext) === \"function\")\n{\n    _audioCtx = new AudioContext();\n}\n\nvar AudioSource = module.exports = function(url)\n{\n    this._audioSample = null;\n    this._analyser = null;\n    this._fftSize = 2048;\n    this._timeData = new Uint8Array(this._fftSize);\n    this._freqData = new Uint8Array(this._fftSize >> 1);\n\n    if (url && (typeof (url) === \"string\"))\n    {\n        this._audioSample = new Audio(url);\n        this._audioSample.loop = true;\n\n        if (_audioCtx)\n        {\n            var that = this;\n            this._audioSample.addEventListener(\"canplay\", function()\n            {\n                if (!that._analyser)\n                {\n                    that._analyser = _audioCtx.createAnalyser();\n                    that._analyser.fftSize = that._fftSize;\n                    that._analyser.smoothingTimeConstant = 0.5;\n\n                    var source = _audioCtx.createMediaElementSource(that._audioSample);\n                    source.connect(that._analyser);\n                    that._analyser.connect(_audioCtx.destination);\n                }\n            }, { once: true });\n        }\n    }\n};\n\nAudioSource.prototype.play = function()\n{\n    if (!this._audioSample)\n    {\n        return window.Promise.reject(new Error(\"invalid audio sample\"));\n    }\n\n    if (!_audioCtx || (_audioCtx.state === \"running\"))\n    {\n        return this._audioSample.play();\n    }\n\n    var that = this;\n    return _audioCtx.resume().then(function()\n    {\n        return that._audioSample.play();\n    });\n};\n\nAudioSource.prototype.pause = function()\n{\n    if (this._audioSample)\n    {\n        this._audioSample.pause();\n    }\n};\n\nAudioSource.prototype.setFFTSize = function(fftSize)\n{\n    if ((typeof (fftSize) === \"number\") && isFinite(fftSize))\n    {\n        //FFT size must be 2^i with 5 <= i <= 15 or an IndexSizeError is thrown\n        var size = 1 << 15;\n        while ((size > 32) && (size > fftSize))\n        {\n            size >>= 1;\n        }\n\n        if (size !== this._fftSize)\n        {\n            this._fftSize = size;\n            this._timeData = new Uint8Array(this._fftSize);\n            this._freqData = new Uint8Array(this._fftSize >> 1);\n\n            if (this._analyser)\n            {\n                this._analyser.fftSize = this._fftSize;\n            }\n        }\n    }\n};\n\nAudioSource.prototype.fetchTimeData = function()\n{\n    if (this._analyser)\n    {\n        this._analyser.getByteTimeDomainData(this._timeData);\n    }\n\n    return this._timeData;\n};\n\nAudioSource.prototype.fetchFreqData = function()\n{\n    if (this._analyser)\n    {\n        this._analyser.getByteFrequencyData(this._freqData);\n    }\n\n    return this._freqData;\n};\n","module.exports = __webpack_public_path__ + \"res/rumba.mp3\";"],"sourceRoot":""}