/*! Neo3D | Released under the GPLv3 | Copyright(C) 2015, LoÃ¯c Le Page */!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=14)}([,function(t,e){t.exports=window.neo3d},,,,,,,,,,,,,function(t,e,n){"use strict";var i=n(15),o=[];function r(){}i.keys().forEach(function(t){var e=i(t);!0!==e.disabled&&("function"!=typeof e.onStart&&(e.onStart=r),"function"!=typeof e.onStop&&(e.onStop=r),e._rdrSurf=null,o.push(e))});var a=n(1);window.addEventListener("load",function(){var t=document.getElementById("switchDrawingButton");t.value="Stop",t.addEventListener("click",function(e){e.preventDefault(),a.isDrawing()?(a.stopDrawing(),t.value="Start",o.forEach(function(t){t._rdrSurf&&t._rdrSurf.isAutoDrawing()&&t.onStop()})):(a.startDrawing(),t.value="Stop",o.forEach(function(t){t._rdrSurf&&t._rdrSurf.isAutoDrawing()&&t.onStart()}))});var e=document.getElementById("fpsSpan");a.startDrawing(),function t(){e.innerText=a.getFPS().toFixed(3)+" fps",setTimeout(t,1e3)}();var n=document.getElementById("samplesRoot");o.forEach(function(t){var e=document.createElement("a");e.href="#",e.className="toggle",e.innerText=t.getName(),e.addEventListener("click",function(t,e){if(e.preventDefault(),t._rdrSurf){var n=e.target.parentNode.parentNode;t._rdrSurf.isAutoDrawing()?(t._rdrSurf.setAutoDrawing(!1),n.classList.add("closed"),a.isDrawing()&&t.onStop()):(t._rdrSurf.setAutoDrawing(!0),n.classList.remove("closed"),a.isDrawing()&&t.onStart())}}.bind(void 0,t));var i=document.createElement("h2");i.appendChild(e);var o=document.createElement("canvas");!0===t.hd?(o.width=1920,o.height=1080,o.className="hd"):(o.width=640,o.height=360);var r=document.createElement("div");r.className="content",r.appendChild(o);var s=document.createElement("article");s.appendChild(i),s.appendChild(r),n.appendChild(s),t.main(o),t._rdrSurf=a.findRenderingSurface(o),t._rdrSurf?!0===t.open?t.onStart():(t._rdrSurf.setAutoDrawing(!1),s.classList.add("closed")):(s.classList.add("closed"),s.classList.add("failed"))})})},function(t,e,n){var i={"./disfract/index.js":16,"./groovy/index.js":20};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id=15},function(t,e,n){"use strict";var i=n(1),o=new(n(17)),r=new i.PlaneMesh,a={_center:[-.1528,1.0397],_scale:1,_aspectRatio:1,onInitContext:function(t,e){t.clearColor(0,0,0,1),o.init(t,e),r.init(t,e),o.bind()},onSurfaceResized:function(t,e,n){t.viewport(0,0,e,n),this._aspectRatio=e/n},onDrawFrame:function(t){this._scale+=.005*this._scale,this._scale>2e5&&(this._scale=1);var e=[4,4];if(this._scale>0){var n=1/this._scale;e[0]*=n,e[1]*=n}this._aspectRatio>=1?e[0]*=this._aspectRatio:this._aspectRatio>0&&(e[1]/=this._aspectRatio),t.clear(t.COLOR_BUFFER_BIT),o.setPos(this._center[0],this._center[1]),o.setSize(e[0],e[1]),o.drawMesh(r)}};t.exports={open:!0,getName:function(){return"Disfract"},main:function(t){i.createRenderingSurface(t,a,!0)}}},function(t,e,n){"use strict";var i=n(1),o={vert:n(18),frag:n(19)},r=t.exports=function(){i.Shader.call(this,o.vert,o.frag),this._pos=new i.Vec2,this._size=new i.Vec2,this._attribLoc={vtxPosition:-1},this._uniformLoc={pos:-1,size:-1}};r.prototype=Object.create(i.Shader.prototype),r.prototype.constructor=r,r.prototype._initShaderLocations=function(){this._attribLoc.vtxPosition=this._gl.getAttribLocation(this._prog,"aVtxPosition"),this._uniformLoc.pos=this._gl.getUniformLocation(this._prog,"uPos"),this._uniformLoc.size=this._gl.getUniformLocation(this._prog,"uSize")},r.prototype._bindShader=function(){return this._gl.enableVertexAttribArray(this._attribLoc.vtxPosition),this._gl.uniform2fv(this._uniformLoc.pos,this._pos.buffer),this._gl.uniform2fv(this._uniformLoc.size,this._size.buffer),!0},r.prototype._unbindShader=function(){this._gl.disableVertexAttribArray(this._attribLoc.vtxPosition)},r.prototype._bindMeshAttribs=function(t){return t.bindAttribBuffer(this._attribLoc.vtxPosition,i.Mesh.ATTRIB_TYPE.VERTEX)},r.prototype.setPos=function(t,e){this._pos.setFromValues(t,e),this.isBound()&&this._gl.uniform2fv(this._uniformLoc.pos,this._pos.buffer)},r.prototype.setSize=function(t,e){this._size.setFromValues(t,e),this.isBound()&&this._gl.uniform2fv(this._uniformLoc.size,this._size.buffer)}},function(t,e){t.exports="attribute vec3 aVtxPosition;\n\nuniform vec2 uPos;\nuniform vec2 uSize;\n\nvarying highp vec2 z0;\n\nvoid main()\n{\n    gl_Position = vec4(aVtxPosition, 1.0);\n    z0 = uPos + aVtxPosition.xy * uSize * 0.5;\n}\n"},function(t,e){t.exports="precision highp float;\n\nvarying highp vec2 z0;\n\nconst int MAX_ITER = 1500;\n\nvoid main()\n{\n    vec2 zn = z0;\n    float q = 0.0;\n\n    for (int i = 0; i < MAX_ITER; ++i)\n    {\n        float f = zn.x;\n        zn.x = f * f - zn.y * zn.y + z0.x;\n        zn.y = 2.0 * f * zn.y + z0.y;\n\n        f = zn.x * zn.x + zn.y * zn.y;\n        if (f >= 4.0)\n        {\n            q = float(i + 1);\n            break;\n        }\n    }\n\n    vec3 color = vec3(0.0);\n    if (q > 0.0)\n    {\n        color = mix(vec3(0.0, 0.0, 0.0), vec3(0.6, 0.9, 1.0), fract(0.008 * q));\n    }\n\n    gl_FragColor = vec4(color, 1.0);\n}\n"},function(t,e,n){"use strict";var i=n(1),o=n(21),r=new(n(24))(n(25)),a=new o,s=new i.PlaneMesh,c=null,f=null;var u={onInitContext:function(t,e){t.clearColor(.2,.15,.2,1),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),a.init(t,e),s.init(t,e),function(t,e){if(e||!c||!f){c=t.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,c);var n=r.fetchTimeData();t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,n.length,1,0,t.ALPHA,t.UNSIGNED_BYTE,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),f=t.createTexture(),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,f),n=r.fetchFreqData(),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,n.length,1,0,t.ALPHA,t.UNSIGNED_BYTE,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)}}(t,e),a.bind()},onSurfaceResized:function(t,e,n){t.viewport(0,0,e,n),a.setAspectRatio(e,n)},onDrawFrame:function(t){t.clear(t.COLOR_BUFFER_BIT),function(t){t.activeTexture(t.TEXTURE0);var e=r.fetchTimeData();t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,e.length,1,0,t.ALPHA,t.UNSIGNED_BYTE,e),t.activeTexture(t.TEXTURE1),e=r.fetchFreqData(),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,e.length,1,0,t.ALPHA,t.UNSIGNED_BYTE,e)}(t),a.drawMesh(s)}},l=null;t.exports={open:!0,getName:function(){return"Groovy"},main:function(t){i.createRenderingSurface(t,u,!0),(l=document.createElement("a")).href="#",l.innerText="PLAY",l.style="position: absolute;top: 6px;right: 6px;color: #d6ef7d;border: #d6ef7d solid 2px;padding: 0.3em;text-decoration: none;background: #3b3c2a;border-radius: 0.5em;",t.parentNode.appendChild(l);var e=this;l.addEventListener("click",function(t){t.preventDefault(),e.onStart()})},onStart:function(){r.play().then(function(){l.style.display="none"},function(){l.style.display="block"})},onStop:function(){r.pause()}}},function(t,e,n){"use strict";var i=n(1),o={vert:n(22),frag:n(23)},r=t.exports=function(){i.Shader.call(this,o.vert,o.frag),this._aspectRatios=new i.Vec2,this._attribLoc={vtxPosition:-1},this._uniformLoc={aspectRatios:-1,timeData:-1,freqData:-1}};r.prototype=Object.create(i.Shader.prototype),r.prototype.constructor=r,r.prototype._initShaderLocations=function(){this._attribLoc.vtxPosition=this._gl.getAttribLocation(this._prog,"aVtxPosition"),this._uniformLoc.aspectRatios=this._gl.getUniformLocation(this._prog,"uAspectRatios"),this._uniformLoc.timeData=this._gl.getUniformLocation(this._prog,"uTimeData"),this._uniformLoc.freqData=this._gl.getUniformLocation(this._prog,"uFreqData")},r.prototype._bindShader=function(){return this._gl.enableVertexAttribArray(this._attribLoc.vtxPosition),this._gl.uniform2fv(this._uniformLoc.aspectRatios,this._aspectRatios.buffer),this._gl.uniform1i(this._uniformLoc.timeData,0),this._gl.uniform1i(this._uniformLoc.freqData,1),!0},r.prototype._unbindShader=function(){this._gl.disableVertexAttribArray(this._attribLoc.vtxPosition)},r.prototype._bindMeshAttribs=function(t){return t.bindAttribBuffer(this._attribLoc.vtxPosition,i.Mesh.ATTRIB_TYPE.VERTEX)},r.prototype.setAspectRatio=function(t,e){var n=1;t>0&&e>0&&(n=t/e),t=e=1,n>=1?t/=n:e*=n,this._aspectRatios.setFromValues(t,e),this.isBound()&&this._gl.uniform2fv(this._uniformLoc.aspectRatios,this._aspectRatios.buffer)}},function(t,e){t.exports="attribute vec3 aVtxPosition;\n\nuniform vec2 uAspectRatios;\n\nvarying highp vec2 planeCoords;\n\nvoid main()\n{\n    gl_Position = vec4(aVtxPosition, 1.0);\n    planeCoords = aVtxPosition.xy / uAspectRatios;\n}\n"},function(t,e){t.exports="precision highp float;\n\nuniform sampler2D uTimeData;\nuniform sampler2D uFreqData;\n\n\nvarying highp vec2 planeCoords;\n\nconst float PI = 3.1415926535897932384626433832795;\n\nfloat getLineIntensity(float t)\n{\n    t = max(t, 0.0) * step(-1.0, -t);\n    t = sin(t * PI);\n    return t * t;\n}\n\n\nfloat getCircleIntensity(vec2 radialCoords, float lineThickness, float circleRadius, float maxOffset)\n{\n    float f = step(0.5, radialCoords.y);\n    f = 2.0 * (f + radialCoords.y) - 4.0 * f * radialCoords.y;\n\n    float offset = texture2D(uTimeData, vec2(f, 0.5)).a;\n    offset = circleRadius + maxOffset * (2.0 * offset - 1.0);\n\n    return getLineIntensity(0.5 + (radialCoords.x - offset) / lineThickness);\n}\n\nvoid main()\n{\n    vec2 radialCoords = vec2(length(planeCoords), 0.5 * (1.0 + atan(-planeCoords.x, planeCoords.y) / PI));\n\n    float circle = getCircleIntensity(radialCoords, 0.05, 0.85, 0.2);\n    float disc = texture2D(uFreqData, vec2(0.05 + radialCoords.x * 0.4, 0.5)).a;\n\n    gl_FragColor = vec4(0.85, 0.95, 0.5, disc + circle);\n}\n"},function(t,e,n){"use strict";var i=window.AudioContext||window.webkitAudioContext,o=null;"function"==typeof i&&(o=new i);var r=t.exports=function(t){if(this._audioSample=null,this._analyser=null,this._fftSize=2048,this._timeData=new Uint8Array(this._fftSize),this._freqData=new Uint8Array(this._fftSize>>1),t&&"string"==typeof t&&(this._audioSample=new Audio(t),this._audioSample.loop=!0,o)){var e=this;this._audioSample.addEventListener("canplay",function(){e._analyser||(e._analyser=o.createAnalyser(),e._analyser.fftSize=e._fftSize,e._analyser.smoothingTimeConstant=.5,o.createMediaElementSource(e._audioSample).connect(e._analyser),e._analyser.connect(o.destination))},{once:!0})}};r.prototype.play=function(){if(!this._audioSample)return window.Promise.reject(new Error("invalid audio sample"));if(!o||"running"===o.state)return this._audioSample.play();var t=this;return o.resume().then(function(){return t._audioSample.play()})},r.prototype.pause=function(){this._audioSample&&this._audioSample.pause()},r.prototype.setFFTSize=function(t){if("number"==typeof t&&isFinite(t)){for(var e=32768;e>32&&e>t;)e>>=1;e!==this._fftSize&&(this._fftSize=e,this._timeData=new Uint8Array(this._fftSize),this._freqData=new Uint8Array(this._fftSize>>1),this._analyser&&(this._analyser.fftSize=this._fftSize))}},r.prototype.fetchTimeData=function(){return this._analyser&&this._analyser.getByteTimeDomainData(this._timeData),this._timeData},r.prototype.fetchFreqData=function(){return this._analyser&&this._analyser.getByteFrequencyData(this._freqData),this._freqData}},function(t,e,n){t.exports=n.p+"res/rumba.mp3"}]);
//# sourceMappingURL=samples-21ebb718a7d0cc1e02c8.min.js.map